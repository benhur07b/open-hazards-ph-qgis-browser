<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

    <title>Open Hazards PH QGIS Browser</title>

    <meta property="og:description" content="Open Hazards PH QGIS Browser is a Python script that you can run in QGIS that lets you add geospatial hazard data created by various agencies in the Philippines as connections in the QGIS Browser. It currently adds WMTS from https://github.com/maning/open-hazards-ph">
    <meta property="og:image" content="static/images/ohphqb.png"/>

    <meta name="twitter:description" content="Open Hazards PH QGIS Browser is a Python script that you can run in QGIS that lets you add geospatial hazard data created by various agencies in the Philippines as connections in the QGIS Browser. It currently adds WMTS from https://github.com/maning/open-hazards-ph">
    <meta name="twitter:image" content="static/images/ohphqb.png"/>

    <link rel="shortcut icon" href="https://bnhr.xyz/media/site/logos/BNHR-favicon.png">

    <!-- Bootstrap CSS -->
    <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css' integrity='sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T' crossorigin='anonymous'>
    <!-- Bootstrap JS -->
    <script src='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js' integrity='sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM' crossorigin='anonymous'></script>

</head>

<body>
    <div class="container">
        <h1 style="padding: 16px 0 0 0" id="open-hazards-ph-qgis-browser">Open Hazards PH QGIS Browser</h1>
        <p><strong>Open Hazards PH QGIS Browser</strong> is a Python script that you can run in QGIS that lets you add geospatial hazard data created by various agencies in the Philippines as connections in the QGIS Browser. It currently adds WMTS from <a href="https://github.com/maning/open-hazards-ph">https://github.com/maning/open-hazards-ph</a>.</p>

        <p>It is inspired by Klas Karlsson’s (<a href="https://github.com/klakar">@klakar</a>) <a href="https://github.com/klakar/QGIS_resources/blob/master/collections/Geosupportsystem/python/qgis_basemaps.py">qgis_basemaps.py</a> script.</p>

        <h2 id="how-to">HOW-TO</h2>
        <h3 id="open-the-qgis-python-console--ctrl--alt--p">Open the QGIS Python Console <img class="img-fluid" src="https://raw.githubusercontent.com/benhur07b/open-hazards-ph-qgis-browser/gh-pages/static/images/py.png" alt="Python Console" /> (CTRL + ALT + P)</h3>
        <br>
        <h3 id="click-show-editor---the-icon-that-looks-like-a-notepad-with-a-pen">Click Show Editor  <img class="img-fluid" src="https://raw.githubusercontent.com/benhur07b/open-hazards-ph-qgis-browser/gh-pages/static/images/ed.png" alt="Show Editor" /> (the icon that looks like a notepad with a pen)</h3>
        <br>
        <h3 id="copy-the-code-below-or-the-content-of-open_hazards_ph_qgis_browserpy-in-the-editor">Copy the code below (or the content of open_hazards_ph_qgis_browser.py) in the editor</h3>
        <br>
		<pre><code class="python language-python">
"""
This script should be run from the Python Console inside QGIS (CTRL + ALT + P).

It adds online sources to the QGIS Browser.
Each source should contain a list with the following items (string type):
[sourcetype, title, authconfig, password, referer, url, username]

You can add or remove sources from the sources section of the code.

Script by Ben Hur Pintor
License: GPLv3
"""

# Add sources
sources = []

sources.append(["connections-wms","NOAH Storm Surge SSA1", "", "", "", "https://api.mapbox.com/styles/v1/osmph/cjqn7kn24phua2rpb4bronsjf/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg", ""])
sources.append(["connections-wms","NOAH Storm Surge SSA2", "", "", "", "https://api.mapbox.com/styles/v1/osmph/cjqn7ea9yphon2rpb8fbgkakw/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg", ""])
sources.append(["connections-wms","NOAH Storm Surge SSA3", "", "", "", "https://api.mapbox.com/styles/v1/osmph/cjqn7blqv00rl2rru9wm6fpbm/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg", ""])
sources.append(["connections-wms","NOAH Storm Surge SSA4", "", "", "", "https://api.mapbox.com/styles/v1/osmph/cjqn2fijg158t2smhiqyoq5e1/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg", ""])
sources.append(["connections-wms","LiPAD 5-year Flood Hazard", "", "", "", "https://api.mapbox.com/styles/v1/osmph/cjqrqpuiq3dl12rscralpdxyo/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg", ""])
sources.append(["connections-wms","LiPAD 25-year Flood Hazard", "", "", "", "https://api.mapbox.com/styles/v1/osmph/cjqrvwop80jpm2sqy4zu9v3c6/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg", ""])
sources.append(["connections-wms","LiPAD 100-year Flood Hazard", "", "", "", "https://api.mapbox.com/styles/v1/osmph/cjqrynb300m522sper0emmgs6/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg", ""])
sources.append(["connections-wms","LiPAD Landslide Hazard", "", "", "", "https://api.mapbox.com/styles/v1/osmph/cjqthna5u1mxq2rpcmg7ihe8h/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg", ""])

# Add sources to QGIS Browser
for source in sources:
    connectionType = source[0]
    connectionName = source[1]
    QSettings().setValue("qgis/%s/%s/authcfg" % (connectionType, connectionName), source[2])
    QSettings().setValue("qgis/%s/%s/password" % (connectionType, connectionName), source[3])
    QSettings().setValue("qgis/%s/%s/referer" % (connectionType, connectionName), source[4])
    QSettings().setValue("qgis/%s/%s/url" % (connectionType, connectionName), source[5])
    QSettings().setValue("qgis/%s/%s/username" % (connectionType, connectionName), source[6])

# Update GUI
iface.reloadConnections()
		</code></pre>
		<p><img class="img-fluid" src="https://raw.githubusercontent.com/benhur07b/open-hazards-ph-qgis-browser/gh-pages/static/images/ohphqb-py.png" alt="Copy code to Editor" /></p>
		<br>
        <h3 id="run">Run</h3>
        <p><img class="img-fluid" src="https://raw.githubusercontent.com/benhur07b/open-hazards-ph-qgis-browser/gh-pages/static/images/run.png" alt="Run" /></p>
		<br>
        <h3 id="load">Loading the maps</h3>
        <p><img class="img-fluid" src="https://raw.githubusercontent.com/benhur07b/open-hazards-ph-qgis-browser/gh-pages/static/images/ohph-qb.gif" alt="Load layers" /></p>
		<br>
        <h3 id="the-connections-should-now-be-added-in-the-browser-if-not-refresh-the-browser">The connections should now be added in the Browser. If not, refresh the Browser.</h3>
        <p><img class="img-fluid" src="https://raw.githubusercontent.com/benhur07b/open-hazards-ph-qgis-browser/gh-pages/static/images/browser.png" alt="Run" /></p>
		<br>
        <hr />
        <h3 id="if-you-want-to-load-the-data-from-open-hazards-ph-check-put-open-hazards-ph-qgis-plugin">If you want to load the data from open-hazards-ph, check put Open Hazards PH QGIS Plugin</h3>
        <ul>
        <li><a href="https://github.com/benhur07b/open-hazards-ph-qgis">Open Hazards PH QGIS Plugin</a></li>
        </ul>

        <h3 id="open-hazards-ph-qgis-browser-is-maintained-by">Open Hazards PH QGIS Browser is maintained by:</h3>
        <ul>
        <li>Ben Hur Pintor [<a href="https://github.com/benhur07b">@benhur07b</a>]</li>
        </ul>

        <h3 id="to-dowish-list">TO-DO/WISH LIST</h3>
        <ul>
        <li>Add more data sources</li>
        </ul>

        <h3 id="pull-requests-and-patches-are-most-welcome">Pull Requests and Patches are most welcome!</h3>
        <p>Open Hazards PH QGIS Browser is on <a href="https://github.com/benhur07b/open-hazards-ph-qgis-browser">Github</a>.</p>
		<br>
        <hr />
        <h2 id="from-open-hazards-ph">From open-hazards-ph</h2>
        <h3 id="what-is-the-license-of-the-data">What is the license of the data?</h3>
        <p>We respect the license of the original source, each data source and data files have a corresponding license file. License varies from different agencies, in most cases government data are public domain.</p>

        <h3 id="most-data-archived-here-are-available-in-other-government-websites-why-do-this">Most data archived here are available in other government websites, why do this?</h3>
        <p>Philippine government data policy changes from the tenure of an administration to another, we want to ensure that what was public will remain public even if projects ran out of funds or there is a change in access policy.</p>

        <h3 id="i-found-some-cool-hazards-data-will-you-host-it">I found some cool hazards data, will you host it?</h3>
        <p>Yes! Please open a ticket on the <a href="https://github.com/maning/open-hazards-ph">open-hazards-ph repo</a> and let’s discuss.</p>

        <h3 id="the-open-hazards-ph-repo-is-maintained-by">The open-hazards-ph repo is maintained by:</h3>
        <ul>
        <li>Maning Sambale [<a href="https://github.com/maning">@maning</a>]</li>
        <li>RK Aranas [<a href="https://github.com/rukku">@rukku</a>]</li>
        </ul>
    </div>

    <div style='padding: 12px'>
        <p class='small'>
        <a rel='license' href='http://creativecommons.org/licenses/by-sa/4.0/'><img class='mb-2' alt='Creative Commons License' style='border-width:0' src='https://i.creativecommons.org/l/by-sa/4.0/80x15.png' /></a>
        <br/>
        This work and its contents by <a xmlns:cc='http://creativecommons.org/ns#' href='https://bnhr.xyz' property='cc:attributionName' rel='cc:attributionURL'>Ben Hur S. Pintor</a> is licensed under a <a rel='license' href='http://creativecommons.org/licenses/by-sa/4.0/'>Creative Commons Attribution-ShareAlike 4.0 International License</a>.<br>
        Other works (software, source code, etc.) referenced in this website are under their own respective licenses.<br>
        </p>
    </div>

</body>
</html>
