<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

    <title>Open Hazards PH</title>

    <meta property="og:description" content="Open Hazards PH is a QGIS plugin that lets you load geospatial hazard data created by various agencies in the Philippines. It uses data stored in https://github.com/maning/open-hazards-ph">
    <meta property="og:image" content="static/images/ohph.png"/>

    <meta name="twitter:description" content="Open Hazards PH is a QGIS plugin that lets you load geospatial hazard data created by various agencies in the Philippines. It uses data stored in https://github.com/maning/open-hazards-ph">
    <meta name="twitter:image" content="static/images/ohph.png"/>

    <link rel="shortcut icon" href="https://bnhr.xyz/media/site/logos/BNHR-favicon.png">

    <!-- Bootstrap CSS -->
    <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css' integrity='sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T' crossorigin='anonymous'>
    <!-- Bootstrap JS -->
    <script src='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js' integrity='sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM' crossorigin='anonymous'></script>
</head>

<h1 style="padding: 16px 0 0 0" id="open-hazards-ph-qgis-browser">Open Hazards PH QGIS Browser</h1>
<p><strong>Open Hazards PH QGIS Browser</strong> is a Python script that you can run in QGIS that lets you add geospatial hazard data created by various agencies in the Philippines as connections in the QGIS Browser. It currently adds WMTS from <a href="https://github.com/maning/open-hazards-ph">https://github.com/maning/open-hazards-ph</a>.</p>

<p>It is inspired by Klas Karlsson’s (<a href="https://github.com/klakar">@klakar</a>) <a href="https://github.com/klakar/QGIS_resources/blob/master/collections/Geosupportsystem/python/qgis_basemaps.py">qgis_basemaps.py</a> script.</p>

<h2 id="how-to">HOW-TO</h2>
<h3 id="open-the-qgis-python-console--ctrl--alt--p">Open the QGIS Python Console <img src="https://raw.githubusercontent.com/benhur07b/open-hazards-ph-qgis-browser/gh-pages/static/images/py.png" alt="Python Console" /> (CTRL + ALT + P)</h3>
<h3 id="click-show-editor---the-icon-that-looks-like-a-notepad-with-a-pen">Click Show Editor  <img src="https://raw.githubusercontent.com/benhur07b/open-hazards-ph-qgis-browser/gh-pages/static/images/ed.png" alt="Show Editor" /> (the icon that looks like a notepad with a pen)</h3>
<h3 id="copy-the-code-below-or-the-content-of-open_hazards_ph_qgis_browserpy-in-the-editor">Copy the code below (or the content of open_hazards_ph_qgis_browser.py) in the editor</h3>
<p><img src="https://raw.githubusercontent.com/benhur07b/open-hazards-ph-qgis-browser/gh-pages/static/images/ohphqb-py.png" alt="Copy code to Editor" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"""
This script should be run from the Python Console inside QGIS (CTRL + ALT + P).

It adds online sources to the QGIS Browser.
Each source should contain a list with the following items (string type):
[sourcetype, title, authconfig, password, referer, url, username]

You can add or remove sources from the sources section of the code.

Script by Ben Hur Pintor
License: GPLv3
"""</span>

<span class="c1"># Add sources
</span><span class="n">sources</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">sources</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s">"connections-wms"</span><span class="p">,</span><span class="s">"NOAH Storm Surge SSA1"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"https://api.mapbox.com/styles/v1/osmph/cjqn7kn24phua2rpb4bronsjf/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg"</span><span class="p">,</span> <span class="s">""</span><span class="p">])</span>
<span class="n">sources</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s">"connections-wms"</span><span class="p">,</span><span class="s">"NOAH Storm Surge SSA2"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"https://api.mapbox.com/styles/v1/osmph/cjqn7ea9yphon2rpb8fbgkakw/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg"</span><span class="p">,</span> <span class="s">""</span><span class="p">])</span>
<span class="n">sources</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s">"connections-wms"</span><span class="p">,</span><span class="s">"NOAH Storm Surge SSA3"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"https://api.mapbox.com/styles/v1/osmph/cjqn7blqv00rl2rru9wm6fpbm/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg"</span><span class="p">,</span> <span class="s">""</span><span class="p">])</span>
<span class="n">sources</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s">"connections-wms"</span><span class="p">,</span><span class="s">"NOAH Storm Surge SSA4"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"https://api.mapbox.com/styles/v1/osmph/cjqn2fijg158t2smhiqyoq5e1/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg"</span><span class="p">,</span> <span class="s">""</span><span class="p">])</span>
<span class="n">sources</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s">"connections-wms"</span><span class="p">,</span><span class="s">"LiPAD 5-year Flood Hazard"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"https://api.mapbox.com/styles/v1/osmph/cjqrqpuiq3dl12rscralpdxyo/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg"</span><span class="p">,</span> <span class="s">""</span><span class="p">])</span>
<span class="n">sources</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s">"connections-wms"</span><span class="p">,</span><span class="s">"LiPAD 25-year Flood Hazard"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"https://api.mapbox.com/styles/v1/osmph/cjqrvwop80jpm2sqy4zu9v3c6/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg"</span><span class="p">,</span> <span class="s">""</span><span class="p">])</span>
<span class="n">sources</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s">"connections-wms"</span><span class="p">,</span><span class="s">"LiPAD 100-year Flood Hazard"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"https://api.mapbox.com/styles/v1/osmph/cjqrynb300m522sper0emmgs6/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg"</span><span class="p">,</span> <span class="s">""</span><span class="p">])</span>
<span class="n">sources</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="s">"connections-wms"</span><span class="p">,</span><span class="s">"LiPAD Landslide Hazard"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"https://api.mapbox.com/styles/v1/osmph/cjqthna5u1mxq2rpcmg7ihe8h/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQ4bXVuOW44ZDlpbSJ9.pUqHal3xOR1yZUaM6LbLkg"</span><span class="p">,</span> <span class="s">""</span><span class="p">])</span>

<span class="c1"># Add sources to QGIS Browser
</span><span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">sources</span><span class="p">:</span>
<span class="n">connectionType</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">connectionName</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">QSettings</span><span class="p">()</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s">"qgis/</span><span class="si">%</span><span class="s">s/</span><span class="si">%</span><span class="s">s/authcfg"</span> <span class="o">%</span> <span class="p">(</span><span class="n">connectionType</span><span class="p">,</span> <span class="n">connectionName</span><span class="p">),</span> <span class="n">source</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">QSettings</span><span class="p">()</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s">"qgis/</span><span class="si">%</span><span class="s">s/</span><span class="si">%</span><span class="s">s/password"</span> <span class="o">%</span> <span class="p">(</span><span class="n">connectionType</span><span class="p">,</span> <span class="n">connectionName</span><span class="p">),</span> <span class="n">source</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="n">QSettings</span><span class="p">()</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s">"qgis/</span><span class="si">%</span><span class="s">s/</span><span class="si">%</span><span class="s">s/referer"</span> <span class="o">%</span> <span class="p">(</span><span class="n">connectionType</span><span class="p">,</span> <span class="n">connectionName</span><span class="p">),</span> <span class="n">source</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="n">QSettings</span><span class="p">()</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s">"qgis/</span><span class="si">%</span><span class="s">s/</span><span class="si">%</span><span class="s">s/url"</span> <span class="o">%</span> <span class="p">(</span><span class="n">connectionType</span><span class="p">,</span> <span class="n">connectionName</span><span class="p">),</span> <span class="n">source</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
<span class="n">QSettings</span><span class="p">()</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s">"qgis/</span><span class="si">%</span><span class="s">s/</span><span class="si">%</span><span class="s">s/username"</span> <span class="o">%</span> <span class="p">(</span><span class="n">connectionType</span><span class="p">,</span> <span class="n">connectionName</span><span class="p">),</span> <span class="n">source</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>

<span class="c1"># Update GUI
</span><span class="n">iface</span><span class="o">.</span><span class="n">reloadConnections</span><span class="p">()</span>

</code></pre></div></div>

<h3 id="run">Run</h3>
<p><img src="https://raw.githubusercontent.com/benhur07b/open-hazards-ph-qgis-browser/gh-pages/static/images/run.png" alt="Run" /></p>

<h3 id="the-connections-should-now-be-added-in-the-browser-if-not-refresh-the-browser">The connections should now be added in the Browser. If not, refresh the Browser.</h3>
<p><img src="https://raw.githubusercontent.com/benhur07b/open-hazards-ph-qgis-browser/gh-pages/static/images/browser.png" alt="Run" /></p>

<hr />
<h3 id="if-you-want-to-load-the-data-from-open-hazards-ph-check-put-open-hazards-ph-qgis-plugin">If you want to load the data from open-hazards-ph, check put Open Hazards PH QGIS Plugin</h3>
<ul>
<li><a href="https://github.com/benhur07b/open-hazards-ph-qgis">Open Hazards PH QGIS Plugin</a></li>
</ul>

<h3 id="open-hazards-ph-qgis-browser-is-maintained-by">Open Hazards PH QGIS Browser is maintained by:</h3>
<ul>
<li>Ben Hur Pintor [<a href="https://github.com/benhur07b">@benhur07b</a>]</li>
</ul>

<h3 id="to-dowish-list">TO-DO/WISH LIST</h3>
<ul>
<li>Add more data sources</li>
</ul>

<h3 id="pull-requests-and-patches-are-most-welcome">Pull Requests and Patches are most welcome!</h3>
<p>Open Hazards PH QGIS Browser is on <a href="https://github.com/benhur07b/open-hazards-ph-qgis-browser">Github</a>.</p>

<hr />
<h2 id="from-open-hazards-ph">From open-hazards-ph</h2>
<h3 id="what-is-the-license-of-the-data">What is the license of the data?</h3>
<p>We respect the license of the original source, each data source and data files have a corresponding license file. License varies from different agencies, in most cases government data are public domain.</p>

<h3 id="most-data-archived-here-are-available-in-other-government-websites-why-do-this">Most data archived here are available in other government websites, why do this?</h3>
<p>Philippine government data policy changes from the tenure of an administration to another, we want to ensure that what was public will remain public even if projects ran out of funds or there is a change in access policy.</p>

<h3 id="i-found-some-cool-hazards-data-will-you-host-it">I found some cool hazards data, will you host it?</h3>
<p>Yes! Please open a ticket on the <a href="https://github.com/maning/open-hazards-ph">open-hazards-ph repo</a> and let’s discuss.</p>

<h3 id="the-open-hazards-ph-repo-is-maintained-by">The open-hazards-ph repo is maintained by:</h3>
<ul>
<li>Maning Sambale [<a href="https://github.com/maning">@maning</a>]</li>
<li>RK Aranas [<a href="https://github.com/rukku">@rukku</a>]</li>
</ul>



<div class="footer border-top border-gray-light mt-5 pt-3 text-right text-gray">
This site is open source. <a href="https://github.com/benhur07b/open-hazards-ph-qgis-browser/edit/gh-pages/index.md">Improve this page</a>.
</div>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
<script>anchors.add();</script>

</body>
</html>
